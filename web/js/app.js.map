{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/App.vue?9107","webpack:///./src/components/SumaClient.vue?5532","webpack:///./src/components/tree.vue?2ca3","webpack:///./src/components/componentFunctions.js","webpack:///src/components/tree.vue","webpack:///./src/components/tree.vue?a1a1","webpack:///./src/components/tree.vue?0774","webpack:///src/components/SumaClient.vue","webpack:///./src/components/SumaClient.vue?fda8","webpack:///./src/components/SumaClient.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js","webpack:///./src/components/SumaClient.vue?833d","webpack:///./src/components/tree.vue?2b53"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","class","menuShown","on","$event","_v","hasNoCounts","resetCounts","compCounts","undoLastCount","settings","hideDateTime","_e","domProps","_s","datetime","ignoreSettings","$modal","show","hasNoStoredCounts","submitCounts","hide","staticStyle","indexOf","directives","rawName","expression","modifiers","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","theme","arrow","interactive","placement","trigger","$$selectedVal","filter","options","selected","map","val","_value","multiple","_l","item","initiativeId","initiativeTitle","currentinit","updateInit","children","$data","clickLocation","addToCount","resetInitCountsByLocation","location","locationtitle","_f","locationDescription","lastCount","preventDefault","countNumber","keys","activityGroups","required","title","description","activity","id","activityvaluesmulti","requiredFieldsCheck","allowMulti","activityvalues","_q","deselect","composing","buttonClickable","toplevel","depth","label","parentdata","cachedinitdata","locations","lowestlocation","nodes","toggleChildren","showChildren","currentcount","node","parentDescription","parentTitle","getCounts","countsarray","parens","allcounts","element","zerocountssort","reduce","total","objitem","number","zerocounts","nonzerocounts","computecounts","elem","parseInt","component","_","components","initresults","undefined","initurl","initiativeUrl","baseiniturl","baseInitUrl","syncurl","syncUrl","appVersion","device","counts","showcounts","$route","query","queuedcounts","created","getDeviceData","loadLocalForageData","loadInitInfo","loadInitData","destroyed","clearInterval","interval","watch","handler","deep","initiative","setInterval","methods","singleLocation","resetActivityChecks","os","$nextTick","from","ag","console","error","buildAllCounts","returncounts","populateInitData","activitykeys","activities","groupBy","dictvalue","document","getElementById","click","scrollTop","sendCounts","headers","response","parsedObject","JSON","parse","syncObj","text","icon","log","totals","syncError","clearCounts","clearqueue","confirmButtonText","cancelButtonText","showCancelButton","parameters","err","cleancomp","match","timestamp","Math","round","Date","now","values","countDict","remove","syncCountDict","buildDict","stringify","getDateTime","date","locationCounts","computed","returnvalue","pop","toLocaleTimeString","filters","unescapeFilter","unescape","SumaClient","Vue","use","VModal","VueRouter","config","productionTip","VueTippy","routes","path","router","render","h","App","$mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('SumaClient')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"role\":\"main\"}},[_c('div',{staticClass:\"header_content\"},[_c('button',{staticClass:\"menubutton headerbuttons leftalign\",class:{'fa-stack fa-1x': _vm.menuShown},attrs:{\"aria-label\":\"toggle menu\"},on:{\"click\":function($event){_vm.menuShown = !_vm.menuShown}}},[(!_vm.menuShown)?_c('span',[_c('i',{staticClass:\"fas fa-bars\"})]):_c('span',[_c('i',{staticClass:\"fas fa-bars fa-stack-1x\"}),_c('i',{staticClass:\"fas fa-caret-left fa-stack-1x barcaret\"}),_c('span',{staticClass:\"fa-stack-text arrowpadding\"},[_vm._v(\"|\")])])]),_c('button',{staticClass:\"headerbuttons leftalign\",attrs:{\"aria-label\":\"Abandon initiative counts\",\"disabled\":_vm.hasNoCounts},on:{\"click\":function($event){return _vm.resetCounts()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Abandon Counts\")]),_c('i',{staticClass:\"fas fa-trash-alt toolbar-icons\"})]),_c('button',{staticClass:\"headerbuttons leftalign\",attrs:{\"aria-label\":\"Undo last count\",\"disabled\":_vm.compCounts===''},on:{\"click\":function($event){return _vm.undoLastCount()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Undo Last Count\")]),_c('i',{staticClass:\"fas fa-undo toolbar-icons\"})]),(!_vm.settings.hideDateTime)?_c('div',{staticClass:\"datetime filler\",domProps:{\"innerHTML\":_vm._s(_vm.datetime)}}):_vm._e(),(_vm.settings.hideDateTime)?_c('div',{staticClass:\"filler\"}):_vm._e(),(_vm.ignoreSettings.length < 4)?_c('button',{staticClass:\"headerbuttons rightalign\",attrs:{\"aria-label\":\"settings\"},on:{\"click\":function($event){return _vm.$modal.show('settings')}}},[_c('i',{staticClass:\"fas fa-cog\"})]):_vm._e(),_c('button',{staticClass:\"headerbuttons rightalign\",attrs:{\"id\":\"finishcollecting\",\"aria-label\":\"finish collecting\",\"disabled\":_vm.hasNoStoredCounts},on:{\"click\":function($event){return _vm.submitCounts()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Finish collecting\")]),_c('i',{staticClass:\"fas fa-check-circle toolbar-icons\"})])]),_c('modal',{attrs:{\"name\":\"settings\"}},[_c('i',{staticClass:\"fas fa-times closemodal\",on:{\"click\":function($event){return _vm.$modal.hide('settings')}}}),_c('h2',{staticClass:\"settingsheader\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"settingslist\"},[(_vm.ignoreSettings.indexOf('hideDateTime') == -1)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.settings['hideDateTime']),expression:\"settings['hideDateTime']\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"checkbox\",\"id\":\"hideDateTime\"},domProps:{\"checked\":Array.isArray(_vm.settings['hideDateTime'])?_vm._i(_vm.settings['hideDateTime'],null)>-1:(_vm.settings['hideDateTime'])},on:{\"change\":function($event){var $$a=_vm.settings['hideDateTime'],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.settings, 'hideDateTime', $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.settings, 'hideDateTime', $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.settings, 'hideDateTime', $$c)}}}}),_c('label',{attrs:{\"for\":\"hideDateTime\"}},[_vm._v(\"Hide Date Time\")]),_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"}],staticClass:\"fas fa-info-circle settinginfo\",attrs:{\"content\":\"Hide date time in the toolbar\"}})]):_vm._e(),(_vm.ignoreSettings.indexOf('multiCount') == -1)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.settings['multiCount']),expression:\"settings['multiCount']\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"checkbox\",\"id\":\"multiCount\"},domProps:{\"checked\":Array.isArray(_vm.settings['multiCount'])?_vm._i(_vm.settings['multiCount'],null)>-1:(_vm.settings['multiCount'])},on:{\"change\":function($event){var $$a=_vm.settings['multiCount'],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.settings, 'multiCount', $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.settings, 'multiCount', $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.settings, 'multiCount', $$c)}}}}),_c('label',{attrs:{\"for\":\"multiCount\"}},[_vm._v(\"Show Multi Count\")]),_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"}],staticClass:\"fas fa-info-circle settinginfo\",attrs:{\"content\":\"Will add an input box that allows you to add multiple counts. Please note that all counts will have the same timestamp. We recommended that this feature be used cautiously, as it is much easier to enter large amounts of data this way. Use at your own risk!\"}})]):_vm._e(),(_vm.ignoreSettings.indexOf('lastCount') == -1)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.settings['lastCount']),expression:\"settings['lastCount']\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"checkbox\",\"id\":\"lastCount\"},domProps:{\"checked\":Array.isArray(_vm.settings['lastCount'])?_vm._i(_vm.settings['lastCount'],null)>-1:(_vm.settings['lastCount'])},on:{\"change\":function($event){var $$a=_vm.settings['lastCount'],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.settings, 'lastCount', $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.settings, 'lastCount', $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.settings, 'lastCount', $$c)}}}}),_c('label',{attrs:{\"for\":\"lastCount\"}},[_vm._v(\"Show Last Count\")]),_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"}],staticClass:\"fas fa-info-circle settinginfo\",attrs:{\"content\":\"Shows the time of the last count for the selected location.\"}})]):_vm._e(),(_vm.ignoreSettings.indexOf('initiative') == -1)?_c('div',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.settings['initiative']),expression:\"settings['initiative']\"}],attrs:{\"aria-label\":\"settings initiative dropdown\",\"id\":\"settingsInitiativeDropdown\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.settings, 'initiative', $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"undefined\"}},[_vm._v(\"No Default Initiative\")]),_vm._l((_vm.initresults),function(item){return _c('option',{key:item.initiativeId,domProps:{\"value\":item.initiativeId,\"innerHTML\":_vm._s(item.initiativeTitle)}})})],2),_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"}],staticClass:\"fas fa-info-circle settinginfo\",attrs:{\"content\":\"Sets a default initiative so when counts are submitted or the page is refreshed the same initiative will stay selected.\"}})]):_vm._e()])]),_c('transition',{attrs:{\"name\":\"sidebar\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuShown),expression:\"menuShown\"}],staticClass:\"selectbuttons\"},[_c('div',{staticClass:\"alldropdowns\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentinit),expression:\"currentinit\"}],attrs:{\"aria-label\":\"initiative dropdown\",\"id\":\"initiativeDropdown\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentinit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.updateInit()}]}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"undefined\"}},[_vm._v(\"Select an initiative\")]),_vm._l((_vm.initresults),function(item){return _c('option',{key:item.initiativeId,domProps:{\"value\":item.initiativeId,\"innerHTML\":_vm._s(item.initiativeTitle)}})})],2),(_vm.children.length > 0)?_c('tree-menu',{key:_vm.currentinit,attrs:{\"parentdata\":_vm.$data,\"nodes\":_vm.children,\"depth\":0},on:{\"clickLocation\":_vm.clickLocation,\"addtocounts\":function($event){return _vm.addToCount(0)}}}):_vm._e()],1)])]),_c('div',{class:[_vm.menuShown ? 'sidebarcounts' : 'fullpagecounts'],attrs:{\"id\":\"countsform\"}},[(_vm.showcounts)?_c('div',[_c('h3',{attrs:{\"id\":\"current_loc_label\"}},[(_vm.compCounts)?_c('button',{staticClass:\"resetloccounts\",on:{\"click\":function($event){return _vm.resetInitCountsByLocation(_vm.location)}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Reset location counts\")]),_c('i',{staticClass:\"fas fa-ban toolbar-icons\"})]):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.locationtitle)}}),(_vm.locationDescription)?_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"}],staticClass:\"fas fa-info-circle\",attrs:{\"content\":_vm._f(\"unescapeFilter\")(_vm.locationDescription)}}):_vm._e()]),(_vm.settings.lastCount && _vm.lastCount)?_c('div',[_vm._v(\"Last count for \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.locationtitle)}}),_vm._v(\" recorded at: \"+_vm._s(_vm.lastCount))]):_vm._e(),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addToCount(_vm.countNumber)}}},[(Object.keys(_vm.activityGroups).length > 0)?_c('div',{staticClass:\"activityGroups\"},_vm._l((_vm.activityGroups),function(value,key){return _c('div',{key:key,staticClass:\"activityGroup\",class:{required: value.required}},[_c('h3',{staticClass:\"activityTitle\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(value.title)}}),(value.required)?_c('span',{staticClass:\"requiredicon\"},[_vm._v(\"*\")]):_vm._e(),(value.allowMulti)?_c('span',{staticClass:\"instructions\"},[_vm._v(\" (Choose one or more)\")]):_c('span',{staticClass:\"instructions\"},[_vm._v(\" (Select one)\")]),(value.description)?_c('i',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ theme : 'info', arrow: true, interactive : true, placement : 'top' }),expression:\"{ theme : 'info', arrow: true, interactive : true, placement : 'top' }\"}],staticClass:\"fas fa-info-circle\",attrs:{\"content\":_vm._f(\"unescapeFilter\")(value.description)}}):_vm._e()]),_vm._l((value.activities),function(activity){return _c('div',{key:activity.id,attrs:{\"id\":\"activityButton\"}},[_c('label',[(value.allowMulti)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activityvaluesmulti),expression:\"activityvaluesmulti\"}],staticClass:\"button\",attrs:{\"type\":\"checkbox\",\"name\":value.id,\"id\":activity.id},domProps:{\"value\":activity.id,\"checked\":Array.isArray(_vm.activityvaluesmulti)?_vm._i(_vm.activityvaluesmulti,activity.id)>-1:(_vm.activityvaluesmulti)},on:{\"click\":function($event){return _vm.requiredFieldsCheck()},\"change\":function($event){var $$a=_vm.activityvaluesmulti,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=activity.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.activityvaluesmulti=$$a.concat([$$v]))}else{$$i>-1&&(_vm.activityvaluesmulti=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.activityvaluesmulti=$$c}}}}):(!value.allowMulti)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activityvalues[key]),expression:\"activityvalues[key]\"}],attrs:{\"type\":\"radio\",\"name\":value.id,\"id\":activity.id},domProps:{\"value\":activity.id,\"checked\":_vm._q(_vm.activityvalues[key],activity.id)},on:{\"click\":function($event){return _vm.deselect(activity.id, key)},\"change\":function($event){return _vm.$set(_vm.activityvalues, key, activity.id)}}}):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(activity.title)}})])])})],2)}),0):_vm._e(),(_vm.settings.multiCount)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.countNumber),expression:\"countNumber\"}],attrs:{\"type\":\"number\",\"id\":\"inputCount\",\"value\":\"1\",\"min\":\"0\"},domProps:{\"value\":(_vm.countNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.countNumber=$event.target.value}}}):_vm._e(),_c('button',{staticClass:\"countButton\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.buttonClickable,\"enabled\":_vm.buttonClickable}},[_vm._v(\"Count\"+_vm._s(_vm.compCounts))])])]):_c('div',{staticClass:\"noloc\"},[_vm._v(\" No current location \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"tree-menu\",class:[{toplevel: _vm.depth == 0}, 'level-'+_vm.depth],attrs:{\"data-label\":_vm.label}},[(_vm.depth == 0 && _vm.parentdata.cachedinitdata[_vm.parentdata.currentinit])?_c('b',{staticStyle:{\"padding\":\"20px\"}},[_vm._v(_vm._s(_vm.parentdata.cachedinitdata[_vm.parentdata.currentinit].locations.title))]):_vm._e(),_c('li',[(_vm.label)?_c('button',{class:[{selected: _vm.selected}, {lowestlocation:!_vm.nodes}, 'menuelement'],attrs:{\"id\":_vm.id},on:{\"click\":_vm.toggleChildren}},[(_vm.nodes)?_c('span',{staticClass:\"toggle\",class:[_vm.showChildren ? 'toggleup' : 'toggledown']}):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.label)}}),(_vm.currentcount)?_c('span',[_vm._v(_vm._s(_vm.currentcount))]):_vm._e()]):_vm._e(),_vm._l((_vm.nodes),function(node){return _c('tree-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showChildren || _vm.depth == 0),expression:\"showChildren || depth == 0\"}],key:node.title,attrs:{\"nodes\":node.children,\"parents\":{'desc': _vm.parentDescription, 'title': _vm.parentTitle},\"parentdata\":_vm.parentdata,\"label\":node.title,\"id\":node.id,\"description\":node.description,\"depth\":_vm.depth + 1},on:{\"addtocounts\":function($event){return _vm.addToCount(0)},\"clickLocation\":_vm.clickLocation}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-console */\nexport default {\n    getCounts: function(countsarray, location, parens=true) {\n        var currentcount = \"\";\n        if (countsarray && countsarray['counts']){\n            var allcounts = !location ? countsarray['counts'] : countsarray['counts'].filter(element => element.location == location);\n            const zerocountssort = allcounts.reduce(function(total, objitem) {\n                objitem.number != 0 ? total['nonzerocounts'].push(objitem) : total['zerocounts'].push(objitem)\n                return total\n            }, {'zerocounts': [], 'nonzerocounts': []})\n            var zerocounts = zerocountssort['zerocounts'].length;\n            var nonzerocounts = zerocountssort['nonzerocounts'];\n            if (nonzerocounts.length > 0){\n                var computecounts = nonzerocounts.reduce(function(total, elem){\n                    return total + parseInt(elem['number'])\n                }, 0);\n                currentcount = computecounts;\n            } else if (zerocounts > 0){\n                if (location){\n                    currentcount = 0;\n                } else if (!location) {\n                    currentcount = currentcount != '' ? currentcount + zerocounts : zerocounts;\n                }\n            }\n        } \n        return parens && currentcount !== '' ? ` (${currentcount}) ` : currentcount;\n    }\n}","<template>\n  <ul class=\"tree-menu\" v-bind:class=\"[{toplevel: depth == 0}, 'level-'+depth]\" :data-label=\"label\">\n    <b style=\"padding: 20px;\" v-if=\"depth == 0 && parentdata.cachedinitdata[parentdata.currentinit]\">{{parentdata.cachedinitdata[parentdata.currentinit].locations.title}}</b>\n    <li>\n      <button v-if=\"label\" v-bind:class=\"[{selected: selected}, {lowestlocation:!nodes}, 'menuelement']\" v-bind:id=\"id\" @click=\"toggleChildren\">\n        <span v-if=\"nodes\" v-bind:class=\"[showChildren ? 'toggleup' : 'toggledown']\" class=\"toggle\"></span>\n        <span v-html=\"label\"></span>\n        <span v-if=\"currentcount\">{{currentcount}}</span>\n      </button>\n      <tree-menu v-show=\"showChildren || depth == 0\"\n        v-for=\"node in nodes\" v-bind:key=\"node.title\" \n        :nodes=\"node.children\"\n        :parents=\"{'desc': parentDescription, 'title': parentTitle}\"\n        :parentdata=\"parentdata\" \n        :label=\"node.title\"\n        :id=\"node.id\"\n        :description=\"node.description\"\n        :depth=\"depth + 1\"\n        @addtocounts=\"addToCount(0)\"\n        @clickLocation=\"clickLocation\"\n      ></tree-menu>   \n    </li>  \n  </ul>\n</template>\n<script>\n/* eslint-disable no-console */\nimport shared from './componentFunctions'\n\n  export default { \n    props: [ 'label', 'nodes', 'depth', 'id', 'parentdata', 'description', 'parents'],\n    data() {\n      return {\n        showChildren: false,\n        currentcount: '',\n        selected: false,\n        caretdirection: this.showChildren ? 'down' : 'up',\n        parentDescription: '',\n        parentTitle: ''\n      }\n    },\n    name: 'tree-menu',\n    watch: {\n      'parentdata.counts': {\n        handler: function(data) {\n          this.currentcount = shared.getCounts(data, this.id);\n        },\n        deep: true\n      },\n      'parentdata.location': {\n        handler: function(data) {\n          if (!this.nodes){\n            this.selected = this.id == data;\n          }\n        },\n        deep: true\n      },\n    },\n    created() {      \n      this.currentcount = shared.getCounts(this.parentdata.counts, this.id);\n      this.selected = this.id == this.parentdata.location;\n    },\n    methods: {\n      addToCount: function(){\n        this.$emit('addtocounts', 0)\n      },\n      clickLocation: function(data){\n        this.$emit('clickLocation', data)\n      },\n      toggleChildren() {\n        this.showChildren = !this.showChildren;\n        this.parentTitle = this.parents.title ? this.parents.title + ' | ' + this.label : this.label;\n        this.parentDescription = this.description ? this.description : this.parents.desc;\n        this.$emit('clickLocation', {'description': this.parentDescription, 'id': this.id, 'title': this.parentTitle, 'nodes': this.nodes, 'index': this.depth})\n        if (!this.nodes){\n          this.addToCount();\n        }\n      }\n    }\n  }\n</script>\n<style>\n.toplevel {\n  padding: 0;\n}\n\n.tree-menu {\n  list-style-type: none;\n  text-align: left;\n}\n\n.toggle {\n  font-family: \"Font Awesome 5 Free\";\n  display: inline-block;\n  padding-right: 5px;\n  vertical-align: initial;\n  font-weight: 400;\n}\n\n.toggleup:after { \n  content: \"\\f146\"; \n  background: none;\n}\n\n.toggledown:after {\n  content: \"\\f0fe\";\n}\n\n.menuelement {\n  color: blue;\n  font-size: 19.5px;\n  padding-top: .25em!important;\n  padding-bottom: .25em!important;\n  appearance: none;\n  background: none!important;\n  border: none;\n  text-align: left;\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree.vue?vue&type=template&id=4e32e95d&\"\nimport script from \"./tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tree.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div role=\"main\">\n    <div class=\"header_content\">\n      <button v-on:click=\"menuShown = !menuShown\" class=\"menubutton headerbuttons leftalign\" v-bind:class=\"{'fa-stack fa-1x': menuShown}\" aria-label=\"toggle menu\">\n          <span v-if=\"!menuShown\">\n            <i class=\"fas fa-bars\"></i>\n          </span>\n          <span v-else>\n            <i class=\"fas fa-bars fa-stack-1x\"></i>\n            <i class=\"fas fa-caret-left fa-stack-1x barcaret\"></i>\n            <span class=\"fa-stack-text arrowpadding\">|</span>\n          </span>\n      </button>\n      <button v-on:click=\"resetCounts()\" class=\"headerbuttons leftalign\" aria-label=\"Abandon initiative counts\" v-bind:disabled=\"hasNoCounts\">\n        <span class=\"buttontext\">Abandon Counts</span>\n        <i class=\"fas fa-trash-alt toolbar-icons\"></i>\n      </button>\n      <button v-on:click=\"undoLastCount()\" class=\"headerbuttons leftalign\" aria-label=\"Undo last count\" v-bind:disabled=\"compCounts===''\">\n        <span class=\"buttontext\">Undo Last Count</span>\n        <i class=\"fas fa-undo toolbar-icons\"></i>\n      </button>\n      <div v-if=\"!settings.hideDateTime\" v-html=\"datetime\" class=\"datetime filler\"></div>\n      <div v-if=\"settings.hideDateTime\" class=\"filler\"></div>\n      <button v-if=\"ignoreSettings.length < 4\" v-on:click=\"$modal.show('settings')\" class=\"headerbuttons rightalign\" aria-label=\"settings\">\n        <i class=\"fas fa-cog\"></i>\n      </button>\n      <button v-on:click=\"submitCounts()\" id=\"finishcollecting\" class=\"headerbuttons rightalign\" aria-label=\"finish collecting\" v-bind:disabled=\"hasNoStoredCounts\">\n        <span class=\"buttontext\">Finish collecting</span>\n        <i class=\"fas fa-check-circle toolbar-icons\"></i>\n      </button>\n    </div>\n    <modal name=\"settings\">\n      <i class=\"fas fa-times closemodal\" v-on:click=\"$modal.hide('settings')\"></i>      \n      <h2 class=\"settingsheader\" style=\"text-align:center;\">Settings</h2>\n      <div class=\"settingslist\">\n        <div v-if=\"ignoreSettings.indexOf('hideDateTime') == -1\">\n          <input type=\"checkbox\" id=\"hideDateTime\" v-model.lazy=\"settings['hideDateTime']\">\n          <label for=\"hideDateTime\">Hide Date Time</label>\n          <i class=\"fas fa-info-circle settinginfo\" content=\"Hide date time in the toolbar\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"></i>\n        </div>\n        <div v-if=\"ignoreSettings.indexOf('multiCount') == -1\">\n          <input type=\"checkbox\" id=\"multiCount\" v-model.lazy=\"settings['multiCount']\">\n          <label for=\"multiCount\">Show Multi Count</label>\n          <i class=\"fas fa-info-circle settinginfo\" content=\"Will add an input box that allows you to add multiple counts. Please note that all counts will have the same timestamp. We recommended that this feature be used cautiously, as it is much easier to enter large amounts of data this way. Use at your own risk!\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"></i>\n        </div>\n        <div v-if=\"ignoreSettings.indexOf('lastCount') == -1\">\n          <input type=\"checkbox\" id=\"lastCount\" v-model.lazy=\"settings['lastCount']\">\n          <label for=\"lastCount\">Show Last Count</label>\n          <i class=\"fas fa-info-circle settinginfo\" content=\"Shows the time of the last count for the selected location.\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"></i>\n        </div>\n        <div v-if=\"ignoreSettings.indexOf('initiative') == -1\">\n          <select aria-label=\"settings initiative dropdown\" id=\"settingsInitiativeDropdown\" v-model=\"settings['initiative']\">\n            <option value=undefined>No Default Initiative</option>\n            <option v-bind:value=\"item.initiativeId\" v-for=\"item in initresults\" v-bind:key=\"item.initiativeId\" v-html=\"item.initiativeTitle\">\n            </option>\n          </select>\n          <i class=\"fas fa-info-circle settinginfo\" content=\"Sets a default initiative so when counts are submitted or the page is refreshed the same initiative will stay selected.\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"></i>\n        </div>\n      </div>\n    </modal>\n    <transition name=\"sidebar\">\n      <div class=\"selectbuttons\" v-show=\"menuShown\">\n        <div class=\"alldropdowns\">\n          <select aria-label=\"initiative dropdown\" id=\"initiativeDropdown\" v-model=\"currentinit\" v-on:change=\"updateInit()\">\n            <option disabled value=undefined>Select an initiative</option>\n            <option v-bind:value=\"item.initiativeId\" v-for=\"item in initresults\" v-bind:key=\"item.initiativeId\" v-html=\"item.initiativeTitle\">\n            </option>\n          </select>\n          <tree-menu :key=\"currentinit\" v-if=\"children.length > 0\" @clickLocation=\"clickLocation\"\n          @addtocounts=\"addToCount(0)\"\n          :parentdata=\"$data\"\n          :nodes=\"children\" :depth=\"0\"></tree-menu>\n        </div>\n      </div>\n    </transition>\n    <div id=\"countsform\" v-bind:class=\"[menuShown ? 'sidebarcounts' : 'fullpagecounts']\">\n      <div v-if=\"showcounts\">\n        <h3 id=\"current_loc_label\">\n          <button v-if=\"compCounts\" v-on:click=\"resetInitCountsByLocation(location)\" class=\"resetloccounts\">\n            <span class=\"buttontext\">Reset location counts</span>\n            <i class=\"fas fa-ban toolbar-icons\"></i>\n          </button>\n          <span v-html=\"locationtitle\"></span> \n          <i class=\"fas fa-info-circle\" :content=\"locationDescription | unescapeFilter\" v-if=\"locationDescription\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top', trigger : 'click', 'maxWidth': '1000px'}\"></i>     \n        </h3>\n        <div v-if=\"settings.lastCount && lastCount\">Last count for <span v-html=\"locationtitle\"></span> recorded at: {{lastCount}}</div>\n        <form @submit.prevent=\"addToCount(countNumber)\">\n          <div v-if=\"Object.keys(activityGroups).length > 0\" class=\"activityGroups\">\n            <div v-for=\"(value, key) in activityGroups\" v-bind:key=\"key\" class=\"activityGroup\" v-bind:class=\"{required: value.required}\">\n              <h3 class=\"activityTitle\">\n                <span v-html=\"value.title\"></span>\n                <span v-if=\"value.required\" class=\"requiredicon\">*</span>\n                <span v-if=\"value.allowMulti\" class=\"instructions\"> (Choose one or more)</span>\n                <span v-else class=\"instructions\"> (Select one)</span> \n                <i class=\"fas fa-info-circle\" :content='value.description | unescapeFilter' v-if=\"value.description\" v-tippy=\"{ theme : 'info', arrow: true, interactive : true, placement : 'top' }\"></i>\n              </h3>\n              <div id=\"activityButton\" v-for=\"activity in value.activities\" v-bind:key=\"activity.id\">\n                <label>\n                  <input type=\"checkbox\" v-bind:name=\"value.id\" v-on:click=\"requiredFieldsCheck()\" class=\"button\" v-if=\"value.allowMulti\" v-bind:id=\"activity.id\" v-bind:value=\"activity.id\" v-model=\"activityvaluesmulti\">\n                  <input type=\"radio\" v-bind:name=\"value.id\" v-on:click=\"deselect(activity.id, key)\" v-else-if=\"!value.allowMulti\" v-bind:id=\"activity.id\" v-bind:value=\"activity.id\" v-model=\"activityvalues[key]\">\n                  <span v-html=\"activity.title\"></span>\n                </label>\n              </div>\n            </div>\n          </div>\n          <input type=\"number\" v-if=\"settings.multiCount\" id=\"inputCount\" value=\"1\" min=\"0\" v-model=\"countNumber\"/>\n          <button type=\"submit\" v-bind:disabled=\"!buttonClickable\" v-bind:enabled=\"buttonClickable\" class=\"countButton\">Count{{ compCounts }}</button>\n        </form>\n      </div>\n      <div v-else class=\"noloc\">\n        No current location\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-console */\n/*global baseInitUrl, initiativeUrl, syncUrl*/\nimport axios from 'axios';\nimport localforage from 'localforage';\nimport DeviceDetector from \"device-detector-js\";\nimport swal from 'sweetalert2'\nimport pluralize from 'pluralize';\nimport treeMenu from './tree';\nimport shared from './componentFunctions';\n\nvar _ = require('lodash');\n\nexport default {\n  name: 'SumaClient',\n  components: {treeMenu},\n  data: function() {\n    return {\n      initresults: '',\n      currentinit: undefined,\n      cachedinitdata: {},\n      initurl: initiativeUrl,\n      baseiniturl: baseInitUrl,\n      syncurl: syncUrl,\n      appVersion: process.env.VUE_APP_VERSION,\n      device: '',\n      children: [],\n      activityGroups: {},\n      counts: {},\n      location: '',\n      activityvalues: {},\n      activityvaluesmulti: [],\n      showcounts: false,\n      locationtitle: '',\n      buttonClickable: false,\n      menuShown: true,\n      settings: this.$route.query,\n      ignoreSettings: Object.keys(this.$route.query),\n      countNumber: 1,\n      datetime: '',\n      locationDescription: '',\n      queuedcounts: []\n    }\n  },\n  created() {\n    this.getDeviceData();\n    //load and submit any old counts\n    this.loadLocalForageData();\n\n    this.loadInitInfo();\n\n    this.loadInitData();\n  },\n  destroyed() {\n    clearInterval(this.interval);    \n  },\n  watch: {\n    cachedinitdata: function (data) {\n      localforage.setItem('cachedinitdata', data);\n    },\n    counts: {\n      handler: function() {\n        localforage.setItem('counts', this.counts);\n      },\n      deep: true\n    },\n    settings: {\n      handler: function(data) {\n        if (this.settings.initiative && this.settings.initiative != 'undefined' && this.settings.initiative != this.currentinit) {\n          this.currentinit = this.settings.initiative;\n          this.updateInit()\n        }\n        if(!this.settings.hideDateTime){\n          this.interval = setInterval(() => {\n            this.datetime = this.getDateTime();\n          },1000); \n        } else {\n          clearInterval(this.interval); \n        }\n        localforage.setItem('settings', data);\n      },\n      deep: true\n    } \n  },\n  methods: {\n    clickLocation: function(data){\n      //Used when an item in the <tree> component is clicked\n      //if the link does not have children then set location and show counts\n      if (!data.nodes){\n        this.location = data.id;\n        this.locationDescription = data.description;\n        this.locationtitle = data.title;\n        this.showcounts = true;\n      }\n      this.singleLocation(data.nodes);\n      this.resetActivityChecks();\n    },\n    getDeviceData: function() {\n      // Get device type (Mac, iPad, etc.)\n      const deviceDetector = new DeviceDetector();\n      const userAgent = navigator.userAgent;\n      const device = deviceDetector.parse(userAgent); \n      this.device = device.os.name;\n    },\n    requiredFieldsCheck: function(){\n      //check to see if all elements with the class .required have been checked.\n      this.$nextTick(() => {\n        const ag = document.querySelectorAll('div.activityGroup.required');\n        var checked = Array.from(ag).map(elem => elem.querySelectorAll('input:checked').length);\n        //set buttonclickable based on if any of the required elements do not have a checked item (length of 0)\n        this.buttonClickable = checked.indexOf(0) == -1;\n      });\n    },\n    loadLocalForageData: function(getItems=['counts', 'settings']){\n      //get local forage data from indexDB for each field, load into vue field\n      for (var i=0; i<getItems.length; i++){\n        const item = getItems[i];\n        localforage.getItem(item).then((counts) => {\n          if(counts != null){\n            this[item] = counts;\n            return true;\n          } else {\n            return false;\n          }\n        })\n        .then((savedCounts) => { \n          if(savedCounts && item == 'counts'){this.submitCounts();}\n          else if (item == 'settings') {this.settings = Object.assign ( this.settings, this.$route.query )}  \n        })\n        .catch(function(err){\n          console.error('There was an error '+err);\n        });\n      }\n    },\n    loadInitData: function(){\n      localforage.getItem('cachedinitdata').then((cache) => {\n        if(cache != null) {\n          //remove any cached initiatives last retrieved > an hour ago\n          this.cachedinitdata = _.omitBy(cache, (val) => Date.now() - val.retrieved > 1000*60*60);\n        }\n      });\n    },\n    loadInitInfo: function(){\n      localforage.getItem('initcache').then((cache) => {\n        //get new initiatives info if cache is empty or last retrieved > an hour ago\n        if(cache === null || Date.now() - cache.retrieved > 1000*60*60){\n          axios.get(this.baseiniturl).then((response) => {\n            if(response.data){\n              this.initresults = response.data;\n              localforage.setItem('initcache', {retrieved: Date.now(), initresults: response.data});\n            }\n          }).catch(function(err){\n            console.error('There was an error '+err);\n          });\n        } else {\n          // console.log(cache);\n          this.initresults = cache.initresults;\n        }\n      });\n    },\n    buildAllCounts: function(counts){ \n      let vuecounts = _.isEmpty(this.counts) ? [] : [this.counts];\n      let returncounts = counts ? counts.concat(vuecounts) : vuecounts;\n      return returncounts;\n    },\n    updateInit: function() {\n      //triggered when dropdown options are changed\n      this.children = [];\n      if (!this.hasNoCounts){\n        localforage.getItem('queuedcounts').then((counts) => {\n          let allcounts = this.buildAllCounts(counts)\n          localforage.setItem('queuedcounts', allcounts);\n          this.queuedcounts = allcounts;\n          this.counts = {}\n        })\n      }\n      if (Object.keys(this.cachedinitdata).indexOf(this.currentinit) > -1){\n        this.populateInitData(this.cachedinitdata[this.currentinit])\n      } else {\n        axios.get(`${this.initurl}${this.currentinit}`).then(response => {\n          this.populateInitData(response.data)\n          this.$set(this.cachedinitdata,this.currentinit, _.set(response.data, 'retrieved', Date.now()));\n        })\n      }\n    },\n    populateInitData:function(data){\n      this.children = data.locations.children;\n      \n      //combine activityGroup data and initdata.activities in a object so the data is all together\n      var activitykeys = data.activityGroups;\n      var activities = _.groupBy(data.activities, 'groupId');\n\n      this.location = '';\n      this.showcounts = false;\n      this.activityGroups = {};\n      for (var key in activities){\n        var dictvalue = activitykeys.filter(elem => elem.id == key)[0];\n        dictvalue['activities'] = activities[key];\n        this.activityGroups[key] = dictvalue;\n      }\n\n      //Check to see if any required fields in the activies \n      this.buttonClickable = Object.keys(this.activityGroups).map(elem => this.activityGroups[elem].required).indexOf(true) == -1;\n      this.singleLocation(this.children)\n    },\n    singleLocation: function(children) {\n      //check to see if there is only one location. \n      //if there is only one location click on that location.\n      if (children && children.length == 1) {\n        this.$nextTick(() => {\n          document.getElementById(children[0].id).click();\n        })\n      }\n    },\n    resetActivityChecks: function() {\n      //unchecks all activities and scrolls to top of page\n      this.activityvalues = {};\n      this.activityvaluesmulti = [];\n      this.countNumber = 1;\n      document.getElementById('countsform').scrollTop = 0;\n      this.requiredFieldsCheck();\n    },\n    sendCounts: function(syncObj, totals) {\n      axios.post(this.syncurl, `json=${syncObj}`, {\n        headers: { 'content-type': 'application/x-www-form-urlencoded'},\n      }).then(response => {\n        //handle response\n        if (response.data != 'Transaction Complete'){\n          this.syncError();\n        } else {\n          //notify user of the response\n          //tell them what was sent? if so, parse syncObject for relevant info\n          var parsedObject = JSON.parse(syncObj);\n          const sessions = parsedObject.sessions.length; \n          const locations = _.uniq(_.flatten(totals['locations'])).length;\n          const total = totals['counts'];\n          swal.fire({\n            title: \"Counts submitted!\",\n            text: `${total} ${pluralize('counts',total)} (including \"zero\" counts) covering ${locations} ${pluralize('locations', locations)} in ${sessions} ${pluralize('sessions',sessions)} has been sent to the server`,\n            icon: \"success\"\n          })\n          this.clearCounts(true);\n        }\n      })\n      .catch(error => {\n        this.syncError();\n        console.log(error.response);\n      });\n    },\n    submitCounts: function(){\n      //get data    \n      localforage.getItem('queuedcounts').then((counts) => {\n        //merges queued counts (counts that had previously been sent but failed due problem with server/etc)\n        //with counts currently in localforage\n        let allcounts = this.buildAllCounts(counts);\n        //sets queued counts to merged counts\n        localforage.setItem('queuedcounts', allcounts);\n        this.queuedcounts = allcounts;\n        //checks all counts and gets locals of locations and counts\n        var totals = allcounts.reduce(function(total, session) {\n            total['counts'] += shared.getCounts(session, false, false);\n            total['locations'].push(session.counts.map(count => count.location))\n            return total;\n          }, {'counts': 0, 'locations': []})\n        //if there are counts then send counts\n        if (allcounts.length !== 0 && totals['counts'] !== 0){\n          let syncObj = this.syncCountDict(allcounts);\n          this.sendCounts(syncObj, totals);\n        }\n      })\n      .then(() => { })\n      .catch(function(err){\n        console.error('There was an error '+err);\n      });\n      this.resetActivityChecks();\n    },\n    syncError: function(){\n      //called when there is a sync error in post request. Clears out counts but preserves queued counts\n      this.clearCounts()\n      swal.fire(`Sync error`,`Error sending data to server. This may be caused by issues including server outages and Wi-Fi \\\n            connectivity problems. The data will be retained by the browser. Please contact an administrator if \\\n            this doesn't resolve itself soon.`, \"error\");\n    },\n    clearCounts: function(clearqueue=false) {\n      //clears counts and if sent successfully will clear out queued counts. By default will not clear queued counts\n      this.counts = {};\n      this.location = '';\n      this.showcounts = false;\n      this.currentinit = this.settings.initiative;\n      if (!this.currentinit || this.currentinit == 'undefined'){\n        this.children = []\n      } else {\n        this.updateInit();\n      }\n      if (clearqueue){\n        localforage.setItem('queuedcounts', []);\n        this.queuedcounts = []\n      }\n    },\n    resetCounts: function(){\n      //Called when \"abandon all counts\" button is clicked.\n      //will not clear queued counts because user has already hit finished collecting or closed the previous session\n      swal.fire({\n        title: 'Abandon Session',\n        text: \"Are you sure you want to delete the data you've just collected? All data you've collected will be deleted permanently.\",\n        confirmButtonText: \"DELETE\",\n        cancelButtonText: \"Keep Collecting\",\n        showCancelButton: true,\n      }).then(parameters => {\n        if (parameters.value == true) {\n          this.clearCounts();    \n        } \n      }).catch(err => {\n        console.log(err)\n      });\n    },\n    resetInitCountsByLocation: function(locationID){\n      //clears counts for a specific location. Called when \"reset location counts\" button is clicked\n      var cleancomp = parseInt(this.compCounts.match(/\\d+/)[0])\n      swal.fire({\n        title: `Reset ${cleancomp} ${pluralize('counts',cleancomp)} for ${this.locationtitle}`,\n        text: `Are you sure you want to delete the data you've just collected? All data you've collected for ${this.locationtitle} be deleted permanently.`,\n        confirmButtonText: \"RESET\",\n        showCancelButton: true,\n      }).then(parameters => {\n        if (parameters.value == true) {\n          this.counts['counts'] = this.counts['counts'].filter(v => v.location !== locationID);\n        } \n      }).catch(err => {\n        console.log(err)\n      });\n    },\n    undoLastCount: function(){\n      //undoes the last count on current location. Called when \"undo last count\" button is clicked\n      if (!this.hasNoCounts){\n          let localCounts = this.locationCounts();\n          var removeitem = localCounts.pop();          \n          if (removeitem){\n            this.counts['counts'] = _.without(this.counts['counts'], removeitem);\n            if(localCounts.length ===0){\n             switch(removeitem.number) {\n               case 1:\n                 this.addToCount(0);\n                 break;\n              }\n            }\n          }\n        }\n      this.resetActivityChecks();\n    },\n    addToCount: function(number){\n      //called when count button pressed; adds new counts for each initiative\n      var timestamp = Math.round(Date.now() / 1000);\n      var activities = this.activityvaluesmulti.concat(Object.values(this.activityvalues));\n      var countDict = !this.hasNoCounts ? this.counts : {'counts':[], 'initiativeID': this.currentinit, 'startTime': timestamp}; \n      var location = this.location;\n      //remove all zero counts for current location\n      _.remove(countDict['counts'], function(elem) {\n        return elem.location == location && elem.number == 0;\n      });\n      // if number is zero and there are already counts at that location do not add a zero count\n      let check = number==0 ? countDict['counts'].filter(count => count.location == this.location ).length  == 0 : true;\n      if(check) {\n        countDict['counts'].push({'timestamp': timestamp,'location': this.location, 'activities': activities, 'number': parseInt(number)});\n        countDict['endTime'] = timestamp;\n        this.counts = countDict;\n      }\n      this.resetActivityChecks();\n    },\n    deselect: function(id, key){\n      //deselects radio buttons if user clicks on selected radio button\n      if (id == this.activityvalues[key]){\n        this.activityvalues[key] = '';\n      }\n      this.requiredFieldsCheck();\n    },\n    syncCountDict: function(counts) {\n      //builds JSON to get sent across axios request\n      var buildDict = JSON.stringify({\n        'version': this.appVersion, 'device': this.device, \n        'sessions': counts\n      });\n      return buildDict;\n    },\n    getDateTime: function() {\n      //used for settings 'dateTime' function.\n      var now = Date.now()\n      var date = new Date(now);\n      return `${date.toDateString()}<br>${date.toLocaleTimeString()}`\n    },\n    locationCounts: function() {\n      //returns a list of counts for current location\n      var counts = ''\n      if (!this.hasNoCounts){\n        counts = this.counts['counts'].filter(elem => elem.location == this.location);\n      }\n      return counts\n    }\n  },\n  computed: {\n    compCounts: function() {\n      //gets current location counts. Called for button counts\n      return shared.getCounts(this.counts, this.location)\n    },\n    hasNoCounts: function() {\n      //check to see if location has no counts. Used to disable buttons\n      return !this.counts || !this.counts['counts'] || this.counts['counts'].length == 0;\n    },\n    hasNoStoredCounts: function() {\n      return this.hasNoCounts && this.queuedcounts.length == 0;\n    },\n    lastCount: function(){\n      //gets the last count for current location. Used for 'lastCount' setting.\n      var counts = this.locationCounts();\n      var returnvalue = ''\n      if (counts.length > 0){\n        var timestamp = new Date(counts.pop().timestamp*1000);\n        returnvalue = timestamp.toLocaleTimeString()\n      }\n      return returnvalue\n    }\n  },\n  filters: {\n    unescapeFilter: function (value) {\n      //unescapes data from API for desc\n      return _.unescape(value)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$header_padding: 10;\n$select_padding: $header_padding*2;\n$sidebar_width: 35%;\n$button_fontsize: 1em;\n$header_height: 3em;\n$tippy_backgroundcolor: #2c3e50;\n$tippy_textcolor: white;\n\nbutton {\n  touch-action: manipulation;\n}\n\n.activityGroups {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.activityGroup {\n  border: 1px solid DarkGray;\n  border-radius: 5px;\n  margin: 10px;\n  flex: 1 1 calc(50% - 20px);\n  text-align: center;\n  padding: 12px;\n  box-sizing: border-box;\n}\n\n.settingslist {\n  display:grid;\n  justify-content:center;\n\n  div  {\n    padding: 5px;\n    font-size: 1.2em;\n  }\n\n  label {\n    padding-left: 6px;\n  }\n\n  .settinginfo {\n    margin: 0px 0px 0px 6px;\n  }\n\n  input[type=checkbox] {\n    transform: scale(1.8);\n  }\n}\n\n.tippy-tooltip.info-theme {\n  background-color: #{$tippy_backgroundcolor};\n  color: #{$tippy_textcolor};\n  * {\n    max-width: 100%;\n  }\n  a {\n    color: lightblue;\n  }\n  .tippy-backdrop {\n    background-color: #{$tippy_backgroundcolor};\n  }\n  .tippy-arrow {\n    border-top-color: #{$tippy_backgroundcolor};\n  }\n}\n\n#current_loc_label {\n  font-size: 1.6em;\n  border-bottom: 1px dotted;\n  text-align: center;\n  margin: 0px;\n  padding: .5em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  * {\n    margin: 0 0.5em 0 0.5em;\n  }\n\n  .fa-info-circle {\n    margin: -5px;\n  }\n\n  span {\n    align-self: center;\n  }\n}\n\n.headerbuttons, .resetloccounts, #activityButton{\n  text-align:center;\n  padding:13px 10px;\n  display:inline-block;\n  border-radius:4px;\n  background: #D7EBF9;\n  font-weight: bold;\n  border: 1px solid #aed0ea;\n\n  button:not([disabled]) {\n    color: #184A67;\n  }\n}\n\n#activityButton span {\n  padding: .8em 1.1em;\n  width: auto;\n  display: inline-block;\n}\n\n#activityButton {\n  margin:4px;\n  padding: 0px;\n}\n\n#activityButton label {\n  height:100%;\n  display: block;\n}\n\n.resetloccounts {\n  margin-left: 6px;\n}\n\n.filler{\n  flex-grow:1;\n  text-align:center;\n}\n\n.headerbuttons {\n  font-size: #{$button_fontsize};\n  margin: 0px 10px 0px;\n}\n\n.datetime {\n  text-align: center;\n  align-self: center;\n}\n\n#activityButton input {\n  position:absolute;\n  opacity: 0;\n  margin-top: 2%;\n}\n\n#activityButton input:hover + span {\n  background-color:#add7ed;\n}\n\n#activityButton input:checked + span {\n  background-color:#3BAAE3;\n  color:#fff;\n}\n\n.instructions {\n  margin-top: 1px;\n}\n\n.activityTitle {\n  padding-bottom: 0px;\n  margin-bottom: 0px;\n}\ni.fa-info-circle {\n  margin-left: 10px;\n  color: #2c3e50;\n}\n.countButton {\n  font-size: 3.5em;\n  border-radius: 4px;\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  cursor: pointer;\n  margin-top: 20px;\n  max-width: 100%;\n  display: inline-flex;\n  justify-content: center;\n}\n\nselect {\n  font-size: 1.25rem;\n  text-align: center;\n}\n\n.requiredicon {\n  color:red;\n}\n\nbody {\n  margin: 0px;\n  font-family: \"Helvetica Neue\", Arial, \"Liberation Sans\", FreeSans, sans-serif;\n}\n\n.header_content {\n  background-color: #A2ADBC;\n  width: 100%;\n  margin-left: 0%;\n  margin-right: 0%;\n  right: 0;\n  top: 0;\n  position: fixed;\n  z-index: 3;\n  padding: #{$header_padding}px 0px #{$header_padding}px;\n  height: #{$header_height};\n  display: flex;\n  justify-content: center;\n}\n\n.selectbuttons {\n  height: calc(100% - #{$header_height} - #{$select_padding}px);\n  width: #{$sidebar_width}; \n  position: fixed; \n  z-index: 1; \n  top: calc(#{$header_height} + #{$select_padding}px);\n  left: 0;\n  background-color: #D9E2E1; /* Black */\n  overflow-x: hidden; /* Disable horizontal scroll */\n  transition-timing-function: ease;\n}\n\n.selectbuttons select {\n  max-width: 98%;\n  width: auto;\n}\n\n#countsform {\n  width: 100%;\n  margin-top: calc(#{$header_height} + #{$select_padding}px);\n  transition: 1s;\n  overflow: auto;\n  height: calc(100% - #{$header_height} - #{$select_padding}px);\n  position: fixed;\n}\n\n.sidebarcounts {\n  padding: 0px 0px 20px #{$sidebar_width};\n  box-sizing: border-box;\n}\n\n.rightalign {\n  float: right;\n}\n.leftalign {\n  float: left;\n}\n\n.alldropdowns {\n  margin: 20px 0px 20px 0px;\n}\n\n.sidebar-leave-active,\n.sidebar-enter-active {\n  transition: 1s;\n}\n.sidebar-enter {\n  transform: translate(-100%, 0);\n}\n.sidebar-leave-to {\n  transform: translate(-100%, 0);\n}\n\n.menubutton {\n  font-size: 2em;\n  width: 1.5em;\n  padding: 0px;\n  height: 1em;\n  line-height: 1em;\n  border: 0px solid white;\n  background: none;\n  margin-top: 10px;\n}\n\n.toolbar-icons {\n  display: none\n}\n\n@media (max-width: 755px) {\n  .headerbuttons:not(.menubutton) {\n    font-size: .7em;\n  }\n}\n\n@media (max-width: 630px) {\n  .headerbuttons:not(.menubutton) {\n    margin: 0px 2px 0px;\n    padding: 10px 5px;\n  }\n  .datetime {\n    font-size: .8em;\n  }\n  .menubutton {\n    margin-left: 0px;\n    margin-right: 0px;\n  }\n}\n\n@media (max-width: 499px) {\n  .toolbar-icons {\n    display: block;\n  }\n  .headerbuttons:not(.menubutton) {\n    font-size: 1em;\n  }\n  .buttontext {\n    display: none;\n  }\n  li button {\n    font-size: 1em!important;\n  }\n  ul {\n    transform: scale(1);\n  }\n  ul:not(.toplevel) {\n    padding: 1px 5px 1px 10px!important;\n  }\n}\n\n@media (max-width: 240px) {\n  .headerbuttons:not(.menubutton) {\n    font-size: .7em;\n    margin: 0px 3px 0px;\n  }\n  .menubutton {\n    font-size: 1.5em;\n  }\n  ul {\n    transform: scale(1);\n  }\n  ul:not(.toplevel) {\n    padding: 1px 5px 1px 10px!important;\n  }\n}\n\nul:not(.toplevel) {\n  padding: 1px 5px 1px 20px;\n}\n\n.selected {\n  font-weight: bold;\n}\n\n.noloc {\n  padding-top: 20px;\n  font-size: 2em;\n}\n\n#inputCount {\n  width: 10%;\n  float: right;\n  height: 50px;\n  font-size: 2em;\n  margin-bottom: 30px;\n  text-align: center;\n}\n\n.closemodal {\n  float:right;\n  font-size:2em;\n  padding:5px;\n}\n\n.arrowpadding {\n  font-size:.40em; \n  color: #A2ADBC; \n  height: 8px; \n  position: relative;\n  margin-right:13px;\n  vertical-align:top; \n  font-weight:900;\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n.barcaret {\n  color:black;\n  text-align:left;\n  margin-left: 8px;\n  font-size:.7em\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SumaClient.vue?vue&type=template&id=fce1feca&\"\nimport script from \"./SumaClient.vue?vue&type=script&lang=js&\"\nexport * from \"./SumaClient.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SumaClient.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <SumaClient/>\n  </div>\n</template>\n\n<script>\nimport SumaClient from './components/SumaClient.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    SumaClient\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3f0b1028&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport VueTippy from 'vue-tippy';\nimport SumaClient from './components/SumaClient.vue'\nimport VueRouter from 'vue-router'\nimport VModal from 'vue-js-modal'\n\nVue.use(VModal)\nVue.use(VueRouter);\n\nVue.config.productionTip = false\nVue.use(VueTippy);\n\nconst routes = [\n  { path: '/', component: SumaClient, 'name': 'index'},\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes\n})\n\nnew Vue({\n  render: h => h(App),\n  router\n}).$mount('#app')\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}